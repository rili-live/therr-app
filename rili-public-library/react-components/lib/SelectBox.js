!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("classnames"),require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["classnames","react","prop-types"],t):"object"==typeof exports?exports["Rili Public Library: React Components"]=t(require("classnames"),require("react"),require("prop-types")):e["Rili Public Library: React Components"]=t(e.classnames,e.react,e["prop-types"])}(window,function(e,t,i){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s="CZEf")}({CZEf:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("cDcd"),o=i("rf6O"),a=i("oPNX"),s=i("K2gz"),r=[a.Key.Enter,a.Key.Space];class l extends n.Component{constructor(e){super(e),this.handleArrowKey=(e=>{const{options:t}=this.props,i=this.state.axIndex;let n=0;n=i+e>t.length-1?0:i+e<0?t.length-1:i+e,this.setState({axIndex:n})}),this.handleKeyDown=(e=>{if(!this.props.disabled){const t=e.keyCode;if(t===a.Key.Tab)return void(this.state.optionsAreVisible&&this.toggleSelectionVisibility());e.preventDefault(),this.state.optionsAreVisible?t===a.Key.UpArrow?this.handleArrowKey(-1):t===a.Key.DownArrow?this.handleArrowKey(1):t===a.Key.Escape?this.toggleSelectionVisibility():r.includes(t)&&(this.props.onChange(this.props.options[this.state.axIndex].value),this.setState({axIndex:this.state.axIndex,optionsAreVisible:!1})):r.includes(t)&&this.toggleSelectionVisibility()}}),this.handlePageClick=(e=>{e.target!==this.buttonElement&&this.setState({optionsAreVisible:!1})}),this.handleSelectionChange=(e=>{if(e.preventDefault(),!this.props.disabled){const t=this.props.options[e.target.dataset.index];this.props.onChange(t.value)}}),this.onFocus=(()=>{this.setState({isTouched:!0})}),this.toggleSelectionVisibility=(()=>{const{disabled:e,options:t,value:i}=this.props;if(!e){let e=t.findIndex(e=>e.value===i);e=-1===e?0:e,this.setState({axIndex:e,optionsAreVisible:!this.state.optionsAreVisible})}}),this.updateValidations=(e=>{const{onValidate:t,translate:i}=this.props;this.setState({isInValid:e.required&&!e.value&&!1!==e.value}),t&&t({[e.id]:i("validations.isRequired")})}),this.state={axIndex:0,optionsAreVisible:!1,isInValid:!0,isTouched:!1}}componentWillMount(){document.addEventListener("click",this.handlePageClick)}componentDidMount(){this.updateValidations(this.props)}componentWillReceiveProps(e){this.props.value===e.value&&this.props.required===e.required||this.updateValidations(e)}componentWillUnmount(){document.removeEventListener("click",this.handlePageClick)}render(){const{className:e,disabled:t,id:i,isTesting:o,options:a,placeHolderText:r,required:l,translate:d,value:c}=this.props,{axIndex:u,isInValid:p,isTouched:h,optionsAreVisible:m}=this.state,f=a.find(e=>e.value===c)||[],b=d(f.text),g=s.default({disabled:t,active:m,"is-invalid":p,"is-valid":!p&&l,"is-touched":h,"select-box":!0}),y=s.default({"arrow-down":!0,"icon-xsmall":!0});return n.createElement("div",{className:"form-field"},n.createElement("div",{className:`${g} ${e}`},n.createElement("button",{className:y,id:i,ref:e=>{this.buttonElement=e},onClick:this.toggleSelectionVisibility,onFocus:this.onFocus,onKeyDown:this.handleKeyDown,disabled:t},b||r),(m||o)&&n.createElement("ul",{role:"listbox",className:"options-list"},a.map((e,t)=>{const i=e.value===c,o=s.default({"ax-active":t==u,"option-container":!0,selected:i});return n.createElement("li",{key:e.value,className:o,role:"presentation"},n.createElement("a",{onClick:this.handleSelectionChange,role:"option",className:"option-link","aria-checked":i,"aria-selected":i,"data-index":t,"data-text":e.text},d(e.text)))}))))}}l.propTypes={className:o.string,disabled:o.bool,id:o.string.isRequired,isTesting:o.bool,onChange:o.func.isRequired,onValidate:o.func,options:o.arrayOf(o.shape({text:o.string.isRequired,value:o.oneOfType([o.string,o.number,o.bool])})).isRequired,placeHolderText:o.string,required:o.bool,translate:o.func.isRequired,value:o.string.isRequired},l.defaultProps={className:"block",disabled:!1,isTesting:!1,onValidate:null,placeHolderText:"Select...",required:!1},t.default=l},K2gz:function(t,i){t.exports=e},cDcd:function(e,i){e.exports=t},oPNX:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Shift=16]="Shift",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.PauseBreak=19]="PauseBreak",e[e.CapsLock=20]="CapsLock",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.LeftArrow=37]="LeftArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.DownArrow=40]="DownArrow",e[e.Insert=45]="Insert",e[e.Delete=46]="Delete",e[e.Zero=48]="Zero",e[e.ClosedParen=48]="ClosedParen",e[e.One=49]="One",e[e.ExclamationMark=49]="ExclamationMark",e[e.Two=50]="Two",e[e.AtSign=50]="AtSign",e[e.Three=51]="Three",e[e.PoundSign=51]="PoundSign",e[e.Hash=51]="Hash",e[e.Four=52]="Four",e[e.DollarSign=52]="DollarSign",e[e.Five=53]="Five",e[e.PercentSign=53]="PercentSign",e[e.Six=54]="Six",e[e.Caret=54]="Caret",e[e.Hat=54]="Hat",e[e.Seven=55]="Seven",e[e.Ampersand=55]="Ampersand",e[e.Eight=56]="Eight",e[e.Star=56]="Star",e[e.Asterik=56]="Asterik",e[e.Nine=57]="Nine",e[e.OpenParen=57]="OpenParen",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.LeftWindowKey=91]="LeftWindowKey",e[e.RightWindowKey=92]="RightWindowKey",e[e.SelectKey=93]="SelectKey",e[e.Numpad0=96]="Numpad0",e[e.Numpad1=97]="Numpad1",e[e.Numpad2=98]="Numpad2",e[e.Numpad3=99]="Numpad3",e[e.Numpad4=100]="Numpad4",e[e.Numpad5=101]="Numpad5",e[e.Numpad6=102]="Numpad6",e[e.Numpad7=103]="Numpad7",e[e.Numpad8=104]="Numpad8",e[e.Numpad9=105]="Numpad9",e[e.Multiply=106]="Multiply",e[e.Add=107]="Add",e[e.Subtract=109]="Subtract",e[e.DecimalPoint=110]="DecimalPoint",e[e.Divide=111]="Divide",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NumLock=144]="NumLock",e[e.ScrollLock=145]="ScrollLock",e[e.SemiColon=186]="SemiColon",e[e.Equals=187]="Equals",e[e.Comma=188]="Comma",e[e.Dash=189]="Dash",e[e.Period=190]="Period",e[e.UnderScore=189]="UnderScore",e[e.PlusSign=187]="PlusSign",e[e.ForwardSlash=191]="ForwardSlash",e[e.Tilde=192]="Tilde",e[e.GraveAccent=192]="GraveAccent",e[e.OpenBracket=219]="OpenBracket",e[e.ClosedBracket=221]="ClosedBracket",e[e.Quote=222]="Quote"}(t.Key||(t.Key={}))},rf6O:function(e,t){e.exports=i}})});
//# sourceMappingURL=SelectBox.js.map